<navbar></navbar>
<div id="page-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <h3 class="page-header">Cadastro de Pessoa</h3>
    </div>
    <!-- /.col-lg-12 -->
  </div>
  <!-- /.row -->
  <div class="row">
  		<div class="col-xs-12">
			<fieldset class="form-group">
				<legend>Filtros</legend>
				<div class="row">
				  <div class="col-6 col-md-3">
				  	<label>Nome</label>
				  	<input placeholder="Filtrar" class="form-control input-sm" [(ngModel)]="filterQuery.nome"/>
				  </div>
				  <div class="col-6 col-md-3">
				  	<label>CPF</label>
				  	<input id="cpf" placeholder="Filtrar" class="form-control input-sm" [(ngModel)]="filterQuery.cpf"/>
				  </div>
				  <div class="col-6 col-md-3">
				  	<label>E-mail</label>
				  	<input placeholder="Filtrar" class="form-control input-sm" [(ngModel)]="filterQuery.email"/>
				  </div>
				  <div class="col-6 col-md-3">
				  	<label>Data Nasc.</label>
				  	<input placeholder="Filtrar" class="form-control input-sm" [(ngModel)]="filterQuery.dataNascimento"/>
				  </div>
				  <div class="col-6 col-md-1">
				  </div>
				</div>
			</fieldset>	  
	    </div>
	</div>
	<hr>
	<div class="row">    
	  	<div class="col-xs-12">
			<div class="panel panel-default">
	        	<table class="table table-striped" [mfData]="data | dataFilter : filterQuery" #mf="mfDataTable"
	                   [mfRowsOnPage]="rowsOnPage" [(mfSortBy)]="sortBy" [(mfSortOrder)]="sortOrder">
	                <thead>
	                <tr>
	                    <th style="width: 30%;">
	                    	 <mfDefaultSorter by="nome">Nome</mfDefaultSorter>
	                    </th>
	                    <th style="width: 20%">
							<mfDefaultSorter by="cpf">CPF</mfDefaultSorter>
	                    </th>
	                    <th style="width: 20%;">
	                    	 <mfDefaultSorter by="email">E-mail</mfDefaultSorter>
	                    </th>
	                    <th style="width: 20%">
	                    	<mfDefaultSorter by="dataNascimento">Data de Nasc.</mfDefaultSorter>
	                    </th>
	                    <th style="width: 10%"></th>
	                </tr>
	                </thead>
	                <tbody>
	                <tr *ngFor="let item of mf.data">
	                    <td class="text-left">{{item.nome}}</td>
	                    <td class="text-left">{{item.cpf}}</td>
	                    <td class="text-left">{{item.email}}</td>
	                    <td class="text-left">{{item.dataNascimento}}</td>
	                    <td>
	                        <a [routerLink]="['/pessoas/new']" title="Editar"><i class="fa fa-pencil fa-fw"></i></a>
	                        <a href="#" data-toggle="modal" data-target="#modalExclusao" title="Excluir" (click)="iniciarExcluir(item.id);"><i class="fa fa-trash fa-fw"></i></a>
	                    </td>
	                </tr>
	                </tbody>
	                <tfoot>
	                <tr>
	                    <td colspan="5">
	                        <mfBootstrapPaginator [rowsOnPageSet]="[5,10,15]"></mfBootstrapPaginator>
	                    </td>
	                </tr>
	                </tfoot>
	            </table>
	        </div>
	    </div>
  </div>
</div>

<!-- Modal -->
<div id="modalExclusao" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Excluir</h4>
      </div>
      <div class="modal-body">
        <p>Deseja realmente excluir o registro selecionado?</p>
      </div>
      <div class="modal-footer">
      	<button type="button" class="btn btn-danger" data-dismiss="modal" (click)="excluirRegistro()">Sim, excluir</button>
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="cancelarExcluir()">NÃ£o</button>
      </div>
    </div>

  </div>
</div>
